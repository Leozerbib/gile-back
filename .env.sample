# =================================================================
# Configuration Docker Compose pour ProjectFlow (bibz-project)
# Application seulement - Supabase externe
# =================================================================

# Environnement général
NODE_ENV=development

# =================================================================
# Configuration Supabase (EXTERNE - déjà en cours d'exécution)
# =================================================================
# URL de votre instance Supabase (remplacez par votre serveur)
SUPABASE_URL=http://ip:port

# Clés JWT Supabase (récupérez-les depuis votre instance Supabase)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR....
SUPABASE_JWT_SECRET=V21VBj...
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiI.....

# URL de connexion PostgreSQL pour Prisma (connexion directe à la DB Supabase)
DATABASE_URL="postgresql://postgres.your-tenant-id:4bgyoucB2gdmidQ5GU4po5cs@ip:port/postgres"


JWT_ACCESS_SECRET=V21VBjLW5o2W9yqH....
JWT_REFRESH_SECRET=OI8xuf8GTHAbj....
# Access token TTL (e.g., 900s, 15m, 1h);
JWT_ACCESS_TTL=1d
# Refresh token TTL (e.g., 7d)
JWT_REFRESH_TTL=7d
# =================================================================
# Configuration des ports (Application seulement)
# =================================================================
# Ports pour vos services applicatifs
# Example environment variables for local development
MAIN_HTTP_PORT=3000

# gRPC endpoints for each microservice
AUTH_GRPC_URL=0.0.0.0:50051
WORKSPACE_GRPC_URL=0.0.0.0:50052
PROJECT_GRPC_URL=0.0.0.0:50053
CHAT_GRPC_URL=0.0.0.0:50054
ANALYTICS_GRPC_URL=0.0.0.0:50055
LOGGER_GRPC_URL=0.0.0.0:50056

# =================================================================
# Configuration Application
# =================================================================
# Frontend - URL du backend (peut être localhost si sur le même serveur)
NEXT_PUBLIC_API_BASE_URL=http://localhost:3002

# Backend - Configuration CORS
CORS_ORIGIN=http://localhost:3000,http://frontend:3000
LOG_LEVEL=log

# =================================================================
# Instructions pour Supabase Externe
# =================================================================
# 1. Assurez-vous que votre instance Supabase est en cours d'exécution
# 2. Récupérez les clés depuis votre Supabase Studio :
#    - SUPABASE_URL : URL de l'API (généralement port 54321)
#    - SUPABASE_ANON_KEY : Clé publique anonyme
#    - SUPABASE_SERVICE_ROLE_KEY : Clé de service (sensible)
#    - SUPABASE_JWT_SECRET : Secret JWT (très sensible)
# 3. Copiez ce fichier vers .env : cp .env.example .env
# 4. Modifiez les URLs et clés selon votre configuration Supabase
# 5. Lancez les services : docker compose up -d

# =================================================================
# Exemple de configuration pour serveur local
# =================================================================
# Si Supabase est sur le même serveur :
# SUPABASE_URL=http://localhost:54321
# NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321

# Si Supabase est sur un serveur distant :
# SUPABASE_URL=http://192.168.1.100:54321
# NEXT_PUBLIC_SUPABASE_URL=http://192.168.1.100:54321
